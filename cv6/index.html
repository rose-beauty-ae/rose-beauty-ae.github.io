<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alex Nguyen | Dubai Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;600&family=Montserrat:wght@200;400&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #fcfaf8; --accent: #1a1a1a; --pink: #eebdc4; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: var(--accent); font-family: 'Montserrat', sans-serif; overflow: hidden; }

        /* Loader */
        #loader {
            position: fixed; inset: 0; background: #fff; z-index: 1000;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 1s ease-in-out;
        }
        .loader-line { width: 100px; height: 1px; background: #000; transform: scaleX(0); animation: load 1.5s forwards; }
        @keyframes load { to { transform: scaleX(1); } }

        /* UI Minimalism */
        nav { position: fixed; top: 40px; width: 100%; padding: 0 60px; display: flex; justify-content: space-between; z-index: 100; font-size: 10px; letter-spacing: 3px; text-transform: uppercase; }
        
        .main-content {
            position: absolute; inset: 0; display: flex; flex-direction: column;
            justify-content: center; align-items: center; z-index: 10; pointer-events: none;
        }
        .main-content h1 { 
            font-family: 'Cormorant Garamond', serif; font-weight: 300; 
            font-size: clamp(2rem, 6vw, 4rem); letter-spacing: -1px; line-height: 1; text-align: center;
        }
        .main-content p { font-size: 9px; letter-spacing: 5px; margin-top: 20px; opacity: 0.5; text-transform: uppercase; }

        canvas { position: absolute; inset: 0; z-index: 1; }
        
        /* Interactive Hint */
        .hint { position: fixed; bottom: 40px; width: 100%; text-align: center; font-size: 9px; opacity: 0.3; letter-spacing: 2px; }
    </style>
</head>
<body>

    <div id="loader"><div class="loader-line"></div></div>

    <nav>
        <div>Alex Nguyen</div>
        <div>Nail Technical • Dubai</div>
    </nav>

    <div class="main-content">
        <h1>Refining the art<br>of technical nails.</h1>
        <p>A Curated Experience</p>
    </div>

    <div class="hint">MOVE CURSOR TO DISPLACE</div>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let width, height, points = [];
        const mouse = { x: -100, y: -100, lerpX: -100, lerpY: -100 };

        // Cấu hình cành hoa - Gladeye Style
        const COUNT = window.innerWidth < 768 ? 12 : 25;
        const TENSION = 0.05;
        const FRICTION = 0.85;

        class Blade {
            constructor(x) {
                this.x = x;
                this.height = Math.random() * 300 + 350;
                this.angle = 0;
                this.tipX = x;
                this.tipY = 0;
                this.segments = [];
                this.color = Math.random() > 0.8 ? '#d4af37' : '#eebdc4'; // Gold or Pink
                
                for(let i = 0; i < 20; i++) {
                    this.segments.push({ x: x, y: 0, vx: 0, vy: 0 });
                }
            }

            update() {
                // Lerp mouse for smoothness
                mouse.lerpX += (mouse.x - mouse.lerpX) * 0.1;
                mouse.lerpY += (mouse.y - mouse.lerpY) * 0.1;

                this.segments.forEach((p, i) => {
                    if (i === 0) {
                        p.x = this.x;
                        p.y = height + 50; // Base fixed at bottom
                    } else {
                        const prev = this.segments[i-1];
                        
                        // Physics
                        const dx = p.x - prev.x;
                        const dy = p.y - prev.y;
                        const angle = Math.atan2(dy, dx);
                        
                        // Gió nhẹ (Ambient movement)
                        const sway = Math.sin(Date.now() * 0.001 + this.x) * (i * 0.2);
                        
                        // Tương tác chuột mượt mà
                        const distMouse = Math.hypot(mouse.lerpX - p.x, mouse.lerpY - p.y);
                        const force = Math.max(0, (150 - distMouse) / 150);
                        
                        p.vx += (mouse.lerpX - p.x) * force * 0.02;
                        p.vy += (mouse.lerpY - p.y) * force * 0.02;

                        p.vx *= FRICTION;
                        p.vy *= FRICTION;
                        
                        p.x += p.vx + sway;
                        p.y += p.vy;

                        // Ràng buộc khoảng cách (Spring constraint)
                        const targetDist = this.height / 20;
                        const actualDist = Math.hypot(p.x - prev.x, p.y - prev.y);
                        const diff = (targetDist - actualDist) / actualDist;
                        
                        p.x += (p.x - prev.x) * diff;
                        p.y += (p.y - prev.y) * diff;
                    }
                });
            }

            draw() {
                ctx.beginPath();
                ctx.moveTo(this.segments[0].x, this.segments[0].y);
                
                for(let i = 1; i < this.segments.length - 1; i++) {
                    const xc = (this.segments[i].x + this.segments[i+1].x) / 2;
                    const yc = (this.segments[i].y + this.segments[i+1].y) / 2;
                    ctx.quadraticCurveTo(this.segments[i].x, this.segments[i].y, xc, yc);
                }

                ctx.strokeStyle = '#222';
                ctx.lineWidth = 0.5;
                ctx.stroke();

                // Vẽ phần "Nail Organic Shape" ở đầu cành
                const tip = this.segments[this.segments.length - 1];
                this.drawOrganicNail(tip.x, tip.y);
            }

            drawOrganicNail(x, y) {
                ctx.save();
                ctx.translate(x, y);
                ctx.fillStyle = this.color;
                
                // Hình khối móng tay nghệ thuật tối giản
                ctx.beginPath();
                ctx.ellipse(0, 0, 4, 12, Math.PI / 4, 0, Math.PI * 2);
                ctx.fill();

                // Điểm nhấn tinh tế
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 0.2;
                ctx.stroke();
                ctx.restore();
            }
        }

        function init() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            points = [];
            for(let i = 0; i < COUNT; i++) {
                points.push(new Blade((width / COUNT) * i + (Math.random() * 50)));
            }
        }

        function render() {
            ctx.clearRect(0, 0, width, height);
            points.forEach(p => {
                p.update();
                p.draw();
            });
            requestAnimationFrame(render);
        }

        // Mouse & Touch
        const updateMouse = (e) => {
            const x = e.touches ? e.touches[0].clientX : e.clientX;
            const y = e.touches ? e.touches[0].clientY : e.clientY;
            mouse.x = x; mouse.y = y;
        };

        window.addEventListener('mousemove', updateMouse);
        window.addEventListener('touchmove', updateMouse);
        window.addEventListener('resize', init);

        window.onload = () => {
            init(); render();
            setTimeout(() => {
                document.getElementById('loader').style.opacity = '0';
                setTimeout(() => document.getElementById('loader').remove(), 1000);
            }, 1500);
        };
    </script>
</body>
</html>